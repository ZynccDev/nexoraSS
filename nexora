local nexoraLib = {}

function nexoraLib:initNexoraLib()
    local player = game:GetService("Players").LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")

    local Nexora = Instance.new("ScreenGui")
    Nexora.Name = "Nexora"
    Nexora.Parent = playerGui

    Nexora.ResetOnSpawn = false
    Nexora.DisplayOrder = 1000
    Nexora.IgnoreGuiInset = true
    Nexora.Enabled = true

    Nexora:SetAttribute("version", 1)
    Nexora:SetAttribute("build", 100)

    return Nexora
end

function nexoraLib:createWindow(parent)
    local frame = Instance.new("ImageLabel")
    frame.Name = "Frame"
    frame.Parent = parent

    frame.Image = "rbxassetid://16255699706"
    frame.ImageColor3 = Color3.fromRGB(255, 255, 255)
    frame.ImageTransparency = 0.8
    frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    frame.BackgroundTransparency = 0.1
    frame.BorderSizePixel = 0
    frame.Visible = true
    frame.ZIndex = 1
    frame.ClipsDescendants = false
    frame.Selectable = true
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.AutomaticSize = Enum.AutomaticSize.None
    frame.SizeConstraint = Enum.SizeConstraint.RelativeXY
    frame.Rotation = 0

    return frame
end

function nexoraLib:setupWindowControls(frame)
    local window_controls = Instance.new("CanvasGroup")
    window_controls.Name = "window_controls"
    window_controls.Parent = frame

    window_controls.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    window_controls.BackgroundTransparency = 1
    window_controls.BorderSizePixel = 0
    window_controls.Visible = true
    window_controls.ZIndex = 2
    window_controls.ClipsDescendants = true
    window_controls.Selectable = false
    window_controls.Size = UDim2.new(1, 0, 1, 0)
    window_controls.Position = UDim2.new(0.5, 0, 0.5, 0)
    window_controls.AnchorPoint = Vector2.new(0.5, 0.5)
    window_controls.AutomaticSize = Enum.AutomaticSize.None
    window_controls.SizeConstraint = Enum.SizeConstraint.RelativeXY
    window_controls.Rotation = 0.00001
    window_controls:SetAttribute("collapsed", false)

    return window_controls
end

function nexoraLib:AddTopButton(parent)
    -- stub for top button logic
end

function nexoraLib:AddMiddleButton(parent)
    -- stub for middle button logic
end

function nexoraLib:AddBottomButton(parent)
    -- stub for bottom button logic
end

function nexoraLib:notif(parent, text)
    local notification = Instance.new("ImageButton")
    notification.Name = "notification"
    notification.Parent = parent

    notification.Image = "rbxassetid://16294030997"
    notification.ImageColor3 = Color3.fromRGB(80, 80, 80)
    notification.ImageTransparency = 0
    notification.BackgroundColor3 = Color3.fromRGB(79, 79, 79)
    notification.BackgroundTransparency = 0.05
    notification.BorderSizePixel = 0
    notification.Visible = false
    notification.ZIndex = 10
    notification.ClipsDescendants = true
    notification.Selectable = false
    notification.Size = UDim2.new(0, 0, 0, 40)
    notification.Position = UDim2.new(0.5, 0, 0, 30)
    notification.AnchorPoint = Vector2.new(0.5, 0)
    notification.AutomaticSize = Enum.AutomaticSize.X
    notification.SizeConstraint = Enum.SizeConstraint.RelativeXY
    notification:SetAttribute("closing", false)
    notification:SetAttribute("duration", 0)

    local description = Instance.new("TextLabel")
    description.Name = "description"
    description.Parent = notification
    description.BackgroundTransparency = 1
    description.ZIndex = 10
    description.Size = UDim2.new(0, 0, 1, 0)
    description.Position = UDim2.new(0, 26, 0, 0)
    description.AutomaticSize = Enum.AutomaticSize.X
    description.Text = text or "Notification"
    description.Font = Enum.Font.Gotham
    description.TextColor3 = Color3.fromRGB(255, 255, 255)
    description.TextSize = 15
    description.TextTransparency = 0.2
    description.TextXAlignment = Enum.TextXAlignment.Center
    description.TextYAlignment = Enum.TextYAlignment.Center

    local close = Instance.new("ImageLabel")
    close.Name = "close"
    close.Parent = notification
    close.Image = "rbxassetid://11293981586"
    close.ImageTransparency = 1
    close.BackgroundTransparency = 1
    close.Size = UDim2.new(0, 16, 0, 16)
    close.Position = UDim2.new(0, 8, 0.5, 0)
    close.AnchorPoint = Vector2.new(0.5, 0.5)

    local icon = Instance.new("ImageLabel")
    icon.Name = "icon"
    icon.Parent = notification
    icon.Image = "rbxassetid://11295275950"
    icon.BackgroundTransparency = 1
    icon.Size = UDim2.new(0, 16, 0, 16)
    icon.Position = UDim2.new(0, 8, 0.5, 0)
    icon.AnchorPoint = Vector2.new(0.5, 0.5)

    local timeline = Instance.new("ImageLabel")
    timeline.Name = "timeline"
    timeline.Parent = notification
    timeline.Image = "rbxassetid://16294678871"
    timeline.ImageTransparency = 0.8
    timeline.Size = UDim2.new(0.1, 50, 0, 2)
    timeline.Position = UDim2.new(0.5, 0, 2, 0)
    timeline.AnchorPoint = Vector2.new(0.5, 1)

    local bar = Instance.new("ImageLabel")
    bar.Name = "bar"
    bar.Parent = timeline
    bar.Image = "rbxassetid://16294678871"
    bar.ImageTransparency = 0.2
    bar.Size = UDim2.new(0, 0, 1, 0)
    bar.Position = UDim2.new(0, 0, 0.5, 0)
    bar.AnchorPoint = Vector2.new(0, 0.5)

    local stroke = Instance.new("UIStroke")
    stroke.Name = "stroke"
    stroke.Parent = notification

    local gradient = Instance.new("UIGradient")
    gradient.Name = "gradient"
    gradient.Parent = stroke
    gradient.Rotation = 80

    local corner = Instance.new("UICorner")
    corner.Name = "corner"
    corner.Parent = notification

    local scale1 = Instance.new("UIScale", close)
    scale1.Name = "scale"

    local scale2 = Instance.new("UIScale", icon)
    scale2.Name = "scale"

    local padding = Instance.new("UIPadding", notification)
    padding.Name = "padding"

    return notification
end

return nexoraLib