local nexoraLib = {}

function nexoraLib:initNexoraLib()
    local player = game:GetService("Players").LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")

    local Nexora = Instance.new("ScreenGui")
    Nexora.Name = "Nexora"
    Nexora.Parent = playerGui

    -- ScreenGui settings
    Nexora.ResetOnSpawn = false
    Nexora.DisplayOrder = 1000
    Nexora.IgnoreGuiInset = true
    Nexora.Enabled = true

    -- Attributes
    Nexora:SetAttribute("version", 1)
    Nexora:SetAttribute("build", 100)

    return Nexora
end

function nexoraLib:createWindow(parent)
    local frame = Instance.new("ImageButton")
    frame.Name = "Frame"
    frame.Parent = parent

    -- Image properties
    frame.Image = "rbxassetid://16255699706"
    frame.ImageColor3 = Color3.fromRGB(255, 255, 255)
    frame.ImageTransparency = 0.8

    -- Appearance
    frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    frame.BackgroundTransparency = 0.1
    frame.BorderSizePixel = 0

    -- Basic properties
    frame.Visible = true
    frame.ZIndex = 1
    frame.ClipsDescendants = false
    frame.Selectable = true

    -- Size & Position
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.AutomaticSize = Enum.AutomaticSize.None
    frame.SizeConstraint = Enum.SizeConstraint.RelativeXY
    frame.Rotation = 0

    -- Control container
    local window_controls = Instance.new("CanvasGroup")
    window_controls.Name = "window_controls"
    window_controls.Parent = frame

    window_controls.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    window_controls.BackgroundTransparency = 1
    window_controls.BorderSizePixel = 0

    window_controls.Visible = true
    window_controls.LayoutOrder = 0
    window_controls.ZIndex = 2
    window_controls.ClipsDescendants = true
    window_controls.Selectable = false

    window_controls.Size = UDim2.new(1, 0, 1, 0)
    window_controls.Position = UDim2.new(0.5, 0, 0.5, 0)
    window_controls.AnchorPoint = Vector2.new(0.5, 0.5)
    window_controls.AutomaticSize = Enum.AutomaticSize.None
    window_controls.SizeConstraint = Enum.SizeConstraint.RelativeXY
    window_controls.Rotation = 0

    window_controls:SetAttribute("collapsed", false)

    -- Return both
    return frame, window_controls
end

return nexoraLib